@prefix form: <http://lblod.data.gift/vocabularies/forms/> .
@prefix sh: <http://www.w3.org/ns/shacl#>.
@prefix mu: <http://mu.semte.ch/vocabularies/core/> .
@prefix displayTypes: <http://lblod.data.gift/display-types/> .
@prefix ext: <http://mu.semte.ch/vocabularies/ext/> .

@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#>.
@prefix skos:	<http://www.w3.org/2004/02/skos/core#> .
@prefix mu:	<http://mu.semte.ch/vocabularies/core/> .
@prefix cpsv:	<http://purl.org/vocab/cpsv#> .
@prefix dct:	<http://purl.org/dc/terms/> .
@prefix lpdcExt:	<http://lblod.data.gift/vocabularies/lpdc-ipdc/> .
@prefix xkos:	<http://rdf-vocabulary.ddialliance.org/xkos#> .
@prefix m8g:	<http://data.europa.eu/m8g/> .
@prefix lblodLpdc:	<http://data.lblod.info/id/public-services/> .
@prefix lblodIpdcLpdc:	<http://lblod.data.gift/vocabularies/lpdc-ipdc/> .
@prefix dcat:	<http://www.w3.org/ns/dcat#> .
@prefix lang:	<http://publications.europa.eu/resource/authority/language/> .
@prefix lblodOrg:	<http://data.lblod.info/id/concept/organisatie/> .
@prefix lblodIpdcThema:	<http://data.lblod.info/id/concept/ipdc-thema/> .
@prefix belgif:	<http://vocab.belgif.be/ns/publicservice#> .
@prefix foaf: <http://xmlns.com/foaf/0.1/>.
@prefix schema: <http://schema.org/>.

##########################################################
# form
##########################################################
ext:form a form:Form, form:TopLevelForm ;
    form:includes ext:titleF;
    form:includes ext:descriptionF;
    form:includes ext:exceptionF;
    form:includes ext:requirementsL;
    form:includes ext:rulesL;
    form:includes ext:costsL;
    form:includes ext:regulationitleF;
    form:includes ext:contactpointsL;
    form:includes ext:websitesL.

##########################################################
#  property-group: title
##########################################################
ext:titlePg a form:PropertyGroup;
    sh:name "Titel" ;
    form:help "Hier kan u de titel van de dienstverlening aanbrengen/wijzigen.";
    sh:order 1 .

  ##########################################################
  #  field: title
  ##########################################################
  ext:titleF a form:Field ;
      sh:order 1 ;
      form:language "nl";
      sh:path dct:title ;
      form:displayType displayTypes:richText ;
      sh:group ext:titlePg .

##########################################################
#  property-group: Beschrijving
##########################################################
ext:descriptionPg a form:PropertyGroup;
    sh:name "Beschrijving" ;
    form:help "Hier kan u de beschrijving van de dienstverlening aanbrengen/wijzigen.";
    sh:order 2 .

  ##########################################################
  #  field: description
  ##########################################################
  ext:descriptionF a form:Field ;
      sh:order 1 ;
      form:language "nl";
      sh:path dct:description ;
      form:displayType displayTypes:richText ;
      sh:group ext:descriptionPg .

##########################################################
#  property-group: exception
##########################################################
ext:exceptionPg a form:PropertyGroup;
    sh:name "Uitzonderingen" ;
    form:help "Geef hier mogelijke uitzondering op.";
    sh:order 3 .

  ##########################################################
  #  field: exception
  ##########################################################
  ext:exceptionF a form:Field ;
      sh:order 1 ;
      form:language "nl";
      sh:path lpdcExt:exception ;
      form:displayType displayTypes:richText ;
      sh:group ext:exceptionPg .

##########################################################
#  property-group: Voorwaarden
##########################################################
ext:requirementsPg a form:PropertyGroup;
    sh:name "Voorwaarden" ;
    form:help "Hier kan u de voorwaarden van de dienstverlening aanpassen/toevoegen.";
    sh:order 3 .

  ##########################################################
  #  listing-scope: Voorwaarden
  ##########################################################
  ext:requirementsS a form:Scope;
    sh:path belgif:hasRequirement.

  ##########################################################
  #  Listing: Voorwaarden
  ##########################################################
  ext:requirementsL a form:Listing;
    form:each ext:requirementsSf;
    form:scope ext:requirementsS;
    form:createGenerator ext:requirementsG;
    sh:group ext:requirementsPg;
    form:addLabel "Voeg voorwaarde toe";
    form:canAdd true;
    form:canRemove true;
    sh:maxCount 1;
    sh:order 1 .

 ##########################################################
  #  Generator: Voorwaarden
  ##########################################################
  ext:requirementsG a form:Generator;
    form:prototype [
      form:shape [
        a m8g:Requirement ;
        dct:description " "@nl;
        dct:title " "@nl;
        dct:description " "@en;
        dct:title " "@en
      ];
    ];
    form:dataGenerator form:addMuUuid.

  ##########################################################
  #  property-group: Voorwaarden-sub
  ##########################################################
  ext:requirementsPg-sub a form:PropertyGroup;
      sh:order 1 .

  ##########################################################
  #  Subform: Voorwaarden
  ##########################################################
  ext:requirementsSf a form:SubForm;
     form:removeLabel "Verwijder voorwaarde";
     form:includes ext:requirementTitleF;
     form:includes ext:requirementDescriptionF;
     form:includes ext:evidencesL.

    ##########################################################
    # Field: Requirement title
    ##########################################################
    ext:requirementTitleF a form:Field ;
        sh:name "Titel voorwaarde" ;
        sh:order 1 ;
        form:language "nl";
        sh:path dct:title ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:requirementsPg-sub .

    ##########################################################
    # Field: Requirement description
    ##########################################################
    ext:requirementDescriptionF a form:Field ;
        sh:name "Beschrijving voorwaarde" ;
        sh:order 2 ;
        form:language "nl";
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:requirementsPg-sub .

        ##########################################################
        #  property-group: evidence
        ##########################################################
        ext:evidencesPg a form:PropertyGroup;
            sh:name "Bewijsstukken" ;
            form:help "Van bovenstaande voorwaarde, kan u de gevraagde bewijsstukken opgeven";
            sh:order 1 .

        ##########################################################
        #  listing-scope: Evidence
        ##########################################################
        ext:evidencesS a form:Scope;
          sh:path m8g:hasSupportingEvidence.

        ##########################################################
        #  Listing: Evidence
        ##########################################################
        ext:evidencesL a form:Listing;
          form:each ext:evidencesSf;
          form:scope ext:evidencesS;
          form:createGenerator ext:evidencesG;
          sh:group ext:evidencesPg;
          form:addLabel "Voeg bewijsstuk toe";
          form:canAdd true;
          form:canRemove true;
          sh:maxCount 1;
          sh:order 1 .

       ##########################################################
        #  Generator: Evidence
        ##########################################################
        ext:evidencesG a form:Generator;
          form:prototype [
            form:shape [
              a m8g:Evidence ;
              dct:description " "@nl;
              dct:title " "@nl;
              dct:description " "@en;
              dct:title " "@en
            ];
          ];
          form:dataGenerator form:addMuUuid.

        ##########################################################
        #  property-group: Evidence-sub
        ##########################################################
        ext:evidencesPg-sub a form:PropertyGroup;
            sh:order 1 .

        ##########################################################
        #  Subform: Evidence
        ##########################################################
        ext:evidencesSf a form:SubForm;
           form:removeLabel "Verwijder bewijsstuk";
           form:includes ext:evidenceTitleF;
           form:includes ext:evidenceDescriptionF.

          ##########################################################
          # Field: Evidence title
          ##########################################################
          ext:evidenceTitleF a form:Field ;
              sh:name "Naam bewijsstuk" ;
              sh:order 1 ;
              form:language "nl";
              sh:path dct:title ;
              form:displayType displayTypes:defaultInput ;
              sh:group ext:evidencesPg-sub .

          ##########################################################
          # Field: Evidence description
          ##########################################################
          ext:evidenceDescriptionF a form:Field ;
              sh:name "Beschrijving bewijsstuk" ;
              sh:order 2 ;
              form:language "nl";
              sh:path dct:description ;
              form:displayType displayTypes:richText ;
              sh:group ext:evidencesPg-sub .


##########################################################
#  property-group: Procedure
##########################################################
ext:rulesPg a form:PropertyGroup;
    sh:name "Procedure" ;
    form:help "Hier kan u de procedure van de dienstverlening aanpassen/toevoegen.";
    sh:order 4 .

  ##########################################################
  #  listing-scope: Proceduren
  ##########################################################
  ext:rulesS a form:Scope;
    sh:path cpsv:follows.

  ##########################################################
  #  Listing: Proceduren
  ##########################################################
  ext:rulesL a form:Listing;
    form:each ext:rulesSf;
    form:scope ext:rulesS;
    form:createGenerator ext:rulesG;
    sh:group ext:rulesPg;
    form:addLabel "Voeg procedure toe";
    form:canAdd true;
    form:canRemove true;
    sh:maxCount 1;
    sh:order 1 .

 ##########################################################
  #  Generator: Proceduren
  ##########################################################
  ext:rulesG a form:Generator;
    form:prototype [
      form:shape [
        a cpsv:Rule;
        dct:description " "@nl;
        dct:title " "@nl;
        dct:description " "@en;
        dct:title " "@en
      ];
    ];
    form:dataGenerator form:addMuUuid.

  ##########################################################
  #  property-group: Proceduren-sub
  ##########################################################
  ext:rulesPg-sub a form:PropertyGroup;
      sh:order 1 .

  ##########################################################
  #  Subform: Proceduren
  ##########################################################
  ext:rulesSf a form:SubForm;
     form:removeLabel "Verwijder procedure";
     form:includes ext:ruleTitleF;
     form:includes ext:ruleDescriptionF;
     form:includes ext:procedureWebsitesL.

    ##########################################################
    # Field: Procedure title
    ##########################################################
    ext:ruleTitleF a form:Field ;
        sh:name "Titel procedure" ;
        sh:order 1 ;
        form:language "nl";
        sh:path dct:title ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:rulesPg-sub .

    ##########################################################
    # Field: Procedure description
    ##########################################################
    ext:ruleDescriptionF a form:Field ;
        sh:name "Beschrijving procedure" ;
        sh:order 2 ;
        form:language "nl";
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:rulesPg-sub .

        ##########################################################
        #  property-group: procedureWebsite
        ##########################################################
        ext:procedureWebsitesPg a form:PropertyGroup;
            sh:name "Website procedure" ;
            form:help "Indien de procedure online kan gevolgd worden, geef het hier op";
            sh:order 1 .

        ##########################################################
        #  listing-scope: ProcedureWebsite
        ##########################################################
        ext:procedureWebsitesS a form:Scope;
          sh:path lpdcExt:hasOnlineProcedure.

        ##########################################################
        #  Listing: ProcedureWebsite
        ##########################################################
        ext:procedureWebsitesL a form:Listing;
          form:each ext:procedureWebsitesSf;
          form:scope ext:procedureWebsitesS;
          form:createGenerator ext:procedureWebsitesG;
          sh:group ext:procedureWebsitesPg;
          form:addLabel "Voeg website toe";
          form:canAdd true;
          form:canRemove true;
          sh:maxCount 1;
          sh:order 1 .

       ##########################################################
        #  Generator: ProcedureWebsite
        ##########################################################
        ext:procedureWebsitesG a form:Generator;
          form:prototype [
            form:shape [
              a schema:Website ;
              dct:description " "@nl;
              dct:title " "@nl;
              schema:url "";
              dct:description " "@en;
              dct:title " "@en
            ];
          ];
          form:dataGenerator form:addMuUuid.

        ##########################################################
        #  property-group: ProcedureWebsite-sub
        ##########################################################
        ext:procedureWebsitesPg-sub a form:PropertyGroup;
            sh:order 1 .

        ##########################################################
        #  Subform: ProcedureWebsite
        ##########################################################
        ext:procedureWebsitesSf a form:SubForm;
           form:removeLabel "Verwijder website";
           form:includes ext:procedureWebsiteTitleF;
           form:includes ext:procedureWebsiteDescriptionF;
           form:includes ext:procedureWebsiteUrlF.

          ##########################################################
          # Field: ProcedureWebsite title
          ##########################################################
          ext:procedureWebsiteTitleF a form:Field ;
              sh:name "Naam website" ;
              sh:order 1 ;
              form:language "nl";
              sh:path dct:title ;
              form:displayType displayTypes:defaultInput ;
              sh:group ext:procedureWebsitesPg-sub .

          ##########################################################
          # Field: ProcedureWebsite description
          ##########################################################
          ext:procedureWebsiteDescriptionF a form:Field ;
              sh:name "Beschrijving website" ;
              sh:order 2 ;
              form:language "nl";
              sh:path dct:description ;
              form:displayType displayTypes:richText ;
              sh:group ext:procedureWebsitesPg-sub .

          ##########################################################
          # Field: ProcedureWebsite description
          ##########################################################
          ext:procedureWebsiteUrlF a form:Field ;
              sh:name "Url" ;
              sh:order 3 ;
              sh:path schema:url ;
              form:displayType displayTypes:defaultInput ;
              sh:group ext:procedureWebsitesPg-sub .

##########################################################
#  property-group: Kost
##########################################################
ext:costPg a form:PropertyGroup;
    sh:name "Kosten" ;
    form:help "Hier kan u de bijbehorende kosten opgeven.";
    sh:order 5 .

  ##########################################################
  #  listing-scope: Kostn
  ##########################################################
  ext:costsS a form:Scope;
    sh:path m8g:hasCost.

  ##########################################################
  #  Listing: Kost
  ##########################################################
  ext:costsL a form:Listing;
    form:each ext:costsSf;
    form:scope ext:costsS;
    form:createGenerator ext:costsG;
    sh:group ext:costPg;
    form:addLabel "Voeg kost toe";
    form:canAdd true;
    form:canRemove true;
    sh:order 1 .

 ##########################################################
  #  Generator: Kost
  ##########################################################
  ext:costsG a form:Generator;
    form:prototype [
      form:shape [
        a m8g:Cost;
        dct:description " "@nl;
        dct:title " "@nl;
        dct:description " "@en;
        dct:title " "@en
      ];
    ];
    form:dataGenerator form:addMuUuid.

  ##########################################################
  #  property-group: Kost-sub
  ##########################################################
  ext:costsPg-sub a form:PropertyGroup;
      sh:order 1 .

  ##########################################################
  #  Subform: Kost
  ##########################################################
  ext:costsSf a form:SubForm;
     form:removeLabel "Verwijder kost";
     form:includes ext:costTitleF;
     form:includes ext:costDescriptionF.

    ##########################################################
    # Field: Kost title
    ##########################################################
    ext:costTitleF a form:Field ;
        sh:name "Titel kost" ;
        form:language "nl";
        sh:order 1 ;
        sh:path dct:title ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:costsPg-sub .

    ##########################################################
    # Field: Kost description
    ##########################################################
    ext:costDescriptionF a form:Field ;
        sh:name "Beschrijving kost" ;
        form:language "nl";
        sh:order 2 ;
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        form:validations [
        a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:resultMessage "Dit veld is verplicht." ;
        sh:path dct:description ];
        sh:group ext:costsPg-sub .


##########################################################
#  property-group: Regelgeving
##########################################################
ext:regulationsPg a form:PropertyGroup;
    sh:name "Regelgeving" ;
    form:help "Pas hier de regelgeving aan.";
    sh:order 6 .

  ##########################################################
  #  field: Regelgeving
  ##########################################################
  ext:regulationitleF a form:Field ;
      sh:order 1 ;
      form:language "nl";
      sh:path lpdcExt:regulation;
      form:displayType displayTypes:richText ;
      sh:group ext:regulationsPg .

##########################################################
#  property-group: Contactpunten
##########################################################
ext:contactpointsPg a form:PropertyGroup;
    sh:name "Contactpunten" ;
    form:help "Voer hier contactpunt(en) in.";
    sh:order 7 .

  ##########################################################
  #  listing-scope: Contactpunten
  ##########################################################
  ext:contactpointsS a form:Scope;
    sh:path m8g:hasContactPoint.

  ##########################################################
  #  Listing: Contactpunten
  ##########################################################
  ext:contactpointsL a form:Listing;
    form:each ext:contactpointsSf;
    form:scope ext:contactpointsS;
    form:createGenerator ext:contactpointsG;
    sh:group ext:contactpointsPg;
    form:addLabel "Voeg contactpunt toe";
    form:canAdd true;
    form:canRemove true;
    sh:order 1 .

 ##########################################################
  #  Generator: Contactpunten
  ##########################################################
  ext:contactpointsG a form:Generator;
    form:prototype [
      form:shape [
        a schema:ContactPoint ;
        schema:email " ";
        schema:telephone " ";
        foaf:page " ";
        schema:openingHours " "
      ];
    ];
    form:dataGenerator form:addMuUuid.

  ##########################################################
  #  property-group: Contactpunten-sub
  ##########################################################
  ext:contactpointsPg-sub a form:PropertyGroup;
      sh:name "Contactpunt" ;
      sh:order 1 .

  ##########################################################
  #  Subform: Contactpunten
  ##########################################################
  ext:contactpointsSf a form:SubForm;
     form:removeLabel "Verwijder contactpunt";
     form:includes ext:contactPEmailF;
     form:includes ext:contactPTelephoneF;
     form:includes ext:contactPageF;
     form:includes ext:contactPOpeningF.

    ##########################################################
    # Field: ContactPunt email
    ##########################################################
    ext:contactPEmailF a form:Field ;
        sh:name "Email" ;
        sh:order 1 ;
        sh:path schema:email ;
        form:help "Geef een geldig email-adres op";
        form:displayType displayTypes:defaultInput ;
        sh:group ext:contactpointsPg-sub .

    ##########################################################
    # Field: ContactPunt email
    ##########################################################
    ext:contactPTelephoneF a form:Field ;
        sh:name "Telefoon" ;
        sh:order 2 ;
        sh:path schema:telephone ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:contactpointsPg-sub .

    ##########################################################
    # Field: ContactPunt website
    ##########################################################
    ext:contactPageF a form:Field ;
        sh:name "Website" ;
        sh:order 3 ;
        sh:path foaf:page ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:contactpointsPg-sub .

    ##########################################################
    # Field: ContactPunt openingsuren
    ##########################################################
    ext:contactPOpeningF a form:Field ;
        sh:name "openingsuren" ;
        sh:order 4 ;
        sh:path schema:openingHours ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:contactpointsPg-sub .

##########################################################
#  property-group: meer info
##########################################################
ext:websitesPg a form:PropertyGroup;
    sh:name "Meer info" ;
    form:help "Hier kan u websites opgeven die meer informatie bevatten over de lokale dienst";
    sh:order 8 .

  ##########################################################
  #  listing-scope: Meer Info
  ##########################################################
  ext:websitesS a form:Scope;
    sh:path rdfs:seeAlso.

  ##########################################################
  #  Listing: Meer Info
  ##########################################################
  ext:websitesL a form:Listing;
    form:each ext:websitesSf;
    form:scope ext:websitesS;
    form:createGenerator ext:websitesG;
    sh:group ext:websitesPg;
    form:addLabel "Voeg website toe";
    form:canAdd true;
    form:canRemove true;
    sh:order 1 .

  ##########################################################
  #  Generator: Meer Info
  ##########################################################
  ext:websitesG a form:Generator;
    form:prototype [
      form:shape [
        a foaf:Document ;
        dct:description " "@nl;
        dct:title " "@nl;
        schema:url "";
        dct:description " "@en;
        dct:title " "@en;
      ];
    ];
    form:dataGenerator form:addMuUuid.

  ##########################################################
  #  property-group: Meer Info-sub
  ##########################################################
  ext:websitesPg-sub a form:PropertyGroup;
      sh:name "Gegevens website";
      sh:order 1 .

  ##########################################################
  #  Subform: Meer Info
  ##########################################################
  ext:websitesSf a form:SubForm;
     form:removeLabel "Verwijder website";
     form:includes ext:websiteTitleF;
     form:includes ext:websiteDescriptionF;
     form:includes ext:websiteUrlF.

    ##########################################################
    # Field:  Meer Info title
    ##########################################################
    ext:websiteTitleF a form:Field ;
        sh:name "Titel website" ;
        sh:order 1 ;
        form:language "nl";
        sh:path dct:title ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:websitesPg-sub .

    ##########################################################
    # Field: Meer Info description
    ##########################################################
    ext:websiteDescriptionF a form:Field ;
        sh:name "Beschrijving website" ;
        sh:order 2 ;
        form:language "nl";
        sh:path dct:description ;
        form:displayType displayTypes:richText ;
        sh:group ext:websitesPg-sub .

    ##########################################################
    # Field: ContactPunt website
    ##########################################################
    ext:websiteUrlF a form:Field ;
        sh:name "Website URL" ;
        sh:order 3 ;
        sh:path schema:url ;
        form:displayType displayTypes:defaultInput ;
        sh:group ext:websitesPg-sub .