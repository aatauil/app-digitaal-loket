@prefix form: <http://lblod.data.gift/vocabularies/forms/> .
@prefix sh: <http://www.w3.org/ns/shacl#>.
@prefix mu: <http://mu.semte.ch/vocabularies/core/> .
@prefix fieldGroups: <http://data.lblod.info/field-groups/> .
@prefix fields: <http://data.lblod.info/fields/> .
@prefix displayTypes: <http://lblod.data.gift/display-types/> .
@prefix skos: <http://www.w3.org/2004/02/skos/core#>.
@prefix schema: <http://schema.org/>.
@prefix foaf: <http://xmlns.com/foaf/0.1/>.
@prefix lblodSubsidie: <http://lblod.data.gift/vocabularies/subsidie/>.
@prefix dct: <http://purl.org/dc/terms/>.
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix nie: <http://www.semanticdesktop.org/ontologies/2007/01/19/nie#>.

##########################################################
# Property groups
##########################################################

fields:4558f2d6-1ba4-4211-beb9-5e3a4b65b975 a form:PropertyGroup;
    mu:uuid "4558f2d6-1ba4-4211-beb9-5e3a4b65b975";
    sh:description "parent property-group, used to group fields and property-groups together";
    sh:order 1 .

fields:d93dfe7a-a668-4a49-a77f-981433f49ba1 a form:PropertyGroup;
    mu:uuid "d93dfe7a-a668-4a49-a77f-981433f49ba1";
    sh:description "subsidy information";
    sh:order 2;
    sh:name "Info" ;
    sh:group fields:4558f2d6-1ba4-4211-beb9-5e3a4b65b975 .

fields:2232cd10-01d6-4f67-966a-2c22932437b4 a form:PropertyGroup;
    mu:uuid "2232cd10-01d6-4f67-966a-2c22932437b4";
    sh:description "contact person information";
    sh:order 3;
    sh:name "Contactgegevens contactpersoon" ;
    form:help "Dit is de persoon die gecontacteerd wordt bij de opvolging van dit dossier." ;
    sh:group fields:4558f2d6-1ba4-4211-beb9-5e3a4b65b975 .

fields:386530d7-b4b4-41c9-8146-e2d8d629d77f a form:PropertyGroup;
    mu:uuid "386530d7-b4b4-41c9-8146-e2d8d629d77f";
    sh:description "payment";
    sh:order 4;
    sh:name "Betaling" ;
    sh:group fields:4558f2d6-1ba4-4211-beb9-5e3a4b65b975 .

fields:c1ba7dcf-2e7c-4f70-b61d-88f6b339771e a form:PropertyGroup;
    mu:uuid "c1ba7dcf-2e7c-4f70-b61d-88f6b339771e";
    sh:description "Bicycle infrastructure information";
    sh:order 12;
    sh:name "Algemeen" ;
    sh:group fields:4558f2d6-1ba4-4211-beb9-5e3a4b65b975 .

##########################################################
# Start Nested property groups for bicycle-lanes
# Please note: there is a quirk,
# see field "2a36568a-4d09-4d16-92f0-e28db48680ed"
# for more explanation
##########################################################
fields:ecd33526-7220-4e57-9d3d-1df7fdc196e3 a form:PropertyGroup;
    mu:uuid "ecd33526-7220-4e57-9d3d-1df7fdc196e3";
    sh:description "Estimated amount of kilometers";
    sh:order 13;
    sh:name "Raming" ;
    form:displayType displayTypes:propertyGroup ;
    form:validations
    [ a form:HasOneNumberGreaterThanInFields ;
      form:grouping form:Bag ;
      sh:path lblodSubsidie:improvementOneSide ;
      sh:path lblodSubsidie:improvementBothSides ;
      sh:path lblodSubsidie:newOneSide ;
      sh:path lblodSubsidie:newBothSides ;
      form:threshold 0 ;
      sh:resultMessage "Ten minste één veld moet een positief geschat aantal kilometers bevatten"@nl
    ] ;
    sh:group fields:4558f2d6-1ba4-4211-beb9-5e3a4b65b975 .

fields:3f15344d-31cb-441d-a95f-8f2c1620a4eb a form:PropertyGroup;
    a form:Field;
    mu:uuid "3f15344d-31cb-441d-a95f-8f2c1620a4eb";
    sh:description "Bicycle infrastructure (verbeteringen)";
    sh:order 14;
    form:displayType displayTypes:propertyGroup ;
    sh:name "Geschat aantal kilometer fietspad dat verbeterd zal worden aan" ;
    sh:group fields:ecd33526-7220-4e57-9d3d-1df7fdc196e3 .

fields:f08c51f5-1edd-4929-8ff2-47711ed8fff5 a form:PropertyGroup;
    a form:Field;
    mu:uuid "f08c51f5-1edd-4929-8ff2-47711ed8fff5";
    sh:description "Bicycle infrastructure (nieuw)";
    form:displayType displayTypes:propertyGroup ;
    sh:order 15;
    sh:name "Geschat aantal kilometer nieuw aan te leggen fietspad" ;
    sh:group fields:ecd33526-7220-4e57-9d3d-1df7fdc196e3 .

##########################################################
# END nested property groups for bicycle-lanes
##########################################################

##########################################################
# Contact person info
##########################################################

fields:e19e245a-c24b-4fb5-84b8-a7e2744ce9a0 a form:Field ;
    mu:uuid "e19e245a-c24b-4fb5-84b8-a7e2744ce9a0";
    sh:name "Voornaam contactpersoon" ;
    sh:order 30 ;
    sh:path ( schema:contactPoint foaf:firstName ) ;
    form:validations
    [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:path ( schema:contactPoint foaf:firstName ) ;
        sh:resultMessage "Dit veld is verplicht."@nl
    ] ;
    form:displayType displayTypes:defaultInput ;
    sh:group fields:2232cd10-01d6-4f67-966a-2c22932437b4 .

fields:82258a58-6c67-4b0a-a26d-0676b88886ad a form:Field ;
    mu:uuid "82258a58-6c67-4b0a-a26d-0676b88886ad";
    sh:name "Familienaam contactpersoon" ;
    sh:order 31 ;
    sh:path ( schema:contactPoint foaf:familyName ) ;
    form:validations
    [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:path ( schema:contactPoint foaf:familyName ) ;
        sh:resultMessage "Dit veld is verplicht."@nl
    ] ;
    form:displayType displayTypes:defaultInput ;
    sh:group fields:2232cd10-01d6-4f67-966a-2c22932437b4 .

fields:6285341d-a0ad-4933-bb5f-c49016b0f935 a form:Field ;
    mu:uuid "6285341d-a0ad-4933-bb5f-c49016b0f935";
    sh:name "Telefoonnummer" ;
    sh:order 32 ;
    sh:path ( schema:contactPoint schema:telephone ) ;
    form:validations
    [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:path ( schema:contactPoint schema:telephone ) ;
        sh:resultMessage "Dit veld is verplicht."@nl
    ] ,
    [ a form:ValidPhoneNumber ;
        form:grouping form:MatchEvery ;
        form:defaultCountry "BE" ;
        sh:path ( schema:contactPoint schema:telephone ) ;
        sh:resultMessage "Geef een geldig telefoonnummer in."@nl
    ] ;
    form:displayType displayTypes:defaultInput ;
    sh:group fields:2232cd10-01d6-4f67-966a-2c22932437b4 .

fields:31c743c7-b243-4ca7-a6c1-dc5f03cb5afb a form:Field ;
    mu:uuid "31c743c7-b243-4ca7-a6c1-dc5f03cb5afb";
    sh:name "Mailadres" ;
    sh:order 33 ;
    sh:path ( schema:contactPoint schema:email ) ;
    form:validations
    [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:path ( schema:contactPoint schema:email ) ;
        sh:resultMessage "Dit veld is verplicht."@nl
    ] ,
    [ a form:ValidEmail ;
        form:grouping form:MatchEvery ;
        sh:path ( schema:contactPoint schema:email ) ;
        sh:resultMessage "Geef een geldig e-mailadres op."@nl
    ] ;
    form:displayType displayTypes:defaultInput ;
    sh:group fields:2232cd10-01d6-4f67-966a-2c22932437b4 .

##########################################################
# Bank account
##########################################################

fields:9b706641-f834-4f91-87ab-d490f7aa0ed7 a form:Field ;
    mu:uuid "9b706641-f834-4f91-87ab-d490f7aa0ed7";
    sh:name "Rekeningnummer uitbetaling" ;
    form:help "IBAN: BE00 0000 0000 0000" ;
    sh:order 41 ;
    sh:path ( schema:bankAccount schema:identifier ) ;
    form:validations
    [ a form:RequiredConstraint ;
        form:grouping form:Bag ;
        sh:path ( schema:bankAccount schema:identifier ) ;
        sh:resultMessage "Dit veld is verplicht."@nl
    ] ,
    [ a form:ValidIBAN ;
        form:grouping form:MatchEvery ;
        sh:path ( schema:bankAccount schema:identifier ) ;
        sh:resultMessage "Geef een geldig IBAN op."@nl
    ] ;
    form:displayType displayTypes:defaultInput ;
    sh:group fields:386530d7-b4b4-41c9-8146-e2d8d629d77f .

fields:5f2ae097-ce97-4a52-a5db-501cf9e114c4 a form:Field ;
    mu:uuid "5f2ae097-ce97-4a52-a5db-501cf9e114c4";
    sh:name "Voeg een bevestingsbrief toe dat dit rekeningnummer gebruikt mag worden, ondertekend door de burgemeester en medeondertekend door de financieel directeur." ;
    form:help "Deze brief moet enkel toegevoegd worden als dit niet het rekeningnummer is waarop het aandeel van het gemeentefonds wordt gestort." ;
    sh:order 42 ;
    sh:path ( schema:bankAccount dct:hasPart ) ;
    form:displayType displayTypes:files ;
    sh:group fields:386530d7-b4b4-41c9-8146-e2d8d629d77f .

##########################################################
# Hidden field required for all variations of URL or FILE
# input field which require validation.
# It makes sure there is a type attached to hasPart object.
# This enables correct validation in both front and backend.
##########################################################

fields:ccb94821-be31-43fa-87df-ef64e3c4ce45 a form:Field ;
    mu:uuid "ccb94821-be31-43fa-87df-ef64e3c4ce45" ;
    sh:name "Type RemoteDataObject or FileDataObject [hidden input]" ;
    sh:order 43 ;
    sh:path ( schema:bankAccount dct:hasPart rdf:type );
    sh:group fields:386530d7-b4b4-41c9-8146-e2d8d629d77f .

##########################################################
# Bicycle infrastructure: case-number
##########################################################

 fields:82e06728-0654-4038-803f-babaa45bf042 a form:Field ;
 mu:uuid "82e06728-0654-4038-803f-babaa45bf042";
 sh:name "Dossiernummer" ;
 sh:order 25 ;
 sh:path nie:identifier ;
 form:validations
   [ a form:RequiredConstraint ;
   form:grouping form:Bag ;
   sh:resultMessage "Dit veld is verplicht."@nl;
   sh:path nie:identifier
   ] ;
 form:options  """{"prefix" : "fiets-subsidie-"}""" ;
 form:help "Dit nummer werd uniek gegenereerd voor uw subsidie aanvraag" ;
 form:displayType displayTypes:caseNumber ;
 sh:group fields:d93dfe7a-a668-4a49-a77f-981433f49ba1  .

##########################################################
# Bicycle infrastructure: project name
##########################################################
fields:aff69ddb-40f9-4544-9bbc-a12afe842bbd a form:Field ;
    mu:uuid "aff69ddb-40f9-4544-9bbc-a12afe842bbd";
    sh:name "Projectnaam" ;
    sh:order 11 ;
    sh:path lblodSubsidie:projectName ;
    form:validations
      [ a form:RequiredConstraint ;
      form:grouping form:Bag ;
      sh:resultMessage "Dit veld is verplicht."@nl;
      sh:path lblodSubsidie:projectName
      ] ;
    form:displayType displayTypes:defaultInput ;
    sh:group fields:c1ba7dcf-2e7c-4f70-b61d-88f6b339771e .

##########################################################
# Bicycle infrastructure: total-estimate-cost
##########################################################
fields:0db3aed1-0e15-454f-8584-0707129b367b a form:Field ;
    mu:uuid "0db3aed1-0e15-454f-8584-0707129b367b";
    sh:name "Raming totale kostprijs" ;
    sh:order 12 ;
    sh:path lblodSubsidie:totalEstimateCost ;
    form:displayType displayTypes:numericalInput ;
    form:validations
    [ a form:RequiredConstraint ;
      form:grouping form:Bag ;
      sh:resultMessage "Dit veld is verplicht."@nl;
      sh:path lblodSubsidie:totalEstimateCost
    ] ,
    [ a form:PositiveNumber ;
      form:grouping form:MatchEvery ;
      sh:resultMessage "Geef een positief aantal op." ;
      sh:path lblodSubsidie:totalEstimateCost
    ] ;
    sh:group fields:c1ba7dcf-2e7c-4f70-b61d-88f6b339771e .


##########################################################
# Bicycle infrastructure: decision-upload
##########################################################
fields:eea274cf-b422-4b8e-bb83-b066edbff8b1 a form:Field ;
    mu:uuid "eea274cf-b422-4b8e-bb83-b066edbff8b1";
    sh:name "Upload beslissing" ;
    form:help "Laad hier de gemeenteraadsbeslissing of de beslissing van het College van Burgemeester en schepenen tot aanvraag van het project";
    sh:order 13 ;
    sh:path ( lblodSubsidie:decisionUpload dct:hasPart ) ;
    form:validations
    [ a form:RequiredConstraint ;
      form:grouping form:Bag ;
      sh:resultMessage "Dit veld is verplicht."@nl;
      sh:path lblodSubsidie:decisionUpload
    ] ;
    form:displayType displayTypes:files ;
    sh:group fields:c1ba7dcf-2e7c-4f70-b61d-88f6b339771e .

##########################################################
# Hidden field required for all variations of URL or FILE
# input field which require validation.
# It makes sure there is a type attached to hasPart object.
# This enables correct validation in both front and backend.
##########################################################

fields:d00a14b2-f565-494a-8ad7-54908d89671a a form:Field ;
    mu:uuid "d00a14b2-f565-494a-8ad7-54908d89671a" ;
    sh:name "Type RemoteDataObject or FileDataObject [hidden input]" ;
    sh:order 14 ;
    sh:path ( lblodSubsidie:decisionUpload dct:hasPart rdf:type );
    sh:group fields:c1ba7dcf-2e7c-4f70-b61d-88f6b339771e .


##########################################################
# Bicycle infrastructure: stub field
# The next part of the form uses directly nested
# property-groups.
# but (deue to performance reasons) this does not work
# without at least one form:Field attatched to the parent
# property-
##########################################################
fields:2a36568a-4d09-4d16-92f0-e28db48680ed a form:Field ;
    mu:uuid "2a36568a-4d09-4d16-92f0-e28db48680ed" ;
    sh:name "Stub field for workaround nested property-groups [hidden input]" ;
    sh:group fields:ecd33526-7220-4e57-9d3d-1df7fdc196e3 .

##########################################################
# Bicycle infrastructure: improvement one side
##########################################################
fields:d88f6b6d-8295-42db-967b-29931b7c9546 a form:Field ;
    mu:uuid "d88f6b6d-8295-42db-967b-29931b7c9546";
    sh:name "slechts één kant van de weg:" ;
    sh:order 15 ;
    sh:path lblodSubsidie:improvementOneSide ;
    form:displayType displayTypes:numericalInput ;
    form:defaultValue 0;
    form:validations
    [ a form:RequiredConstraint ;
      form:grouping form:Bag ;
      sh:resultMessage "Dit veld is verplicht."@nl ;
      sh:path lblodSubsidie:improvementOneSide ;
    ] ,
    [ a form:ValidInteger ;
      form:grouping form:MatchEvery ;
      sh:path lblodSubsidie:improvementOneSide ;
      sh:resultMessage "Aantal moet een een geheel getal zijn."@nl
    ] ,
    [ a form:PositiveNumber ;
        form:grouping form:MatchEvery ;
        sh:path lblodSubsidie:improvementOneSide ;
        sh:resultMessage "Geef een positief aantal op."@nl
    ] ;
    sh:group fields:3f15344d-31cb-441d-a95f-8f2c1620a4eb .

##########################################################
# Bicycle infrastructure: improvement both sides
##########################################################
fields:896155ed-892e-4e69-b220-fd5a0484305a a form:Field ;
    mu:uuid "896155ed-892e-4e69-b220-fd5a0484305a";
    sh:name "aan beide kanten van de weg " ;
    form:help """Noteer: Als u bvb. bij een traject van 1km langs beide kanten van de weg een fietspad aanlegt of vernieuwt, vul dan 2km in""";
    sh:order 21 ;
    sh:path lblodSubsidie:improvementBothSides ;
    form:displayType displayTypes:numericalInput ;
    form:defaultValue 0;
    form:validations
    [ a form:RequiredConstraint ;
      form:grouping form:Bag ;
      sh:resultMessage "Dit veld is verplicht."@nl ;
      sh:path lblodSubsidie:improvementBothSides ;
    ] ,
    [ a form:ValidInteger ;
      form:grouping form:MatchEvery ;
      sh:path lblodSubsidie:improvementBothSides ;
      sh:resultMessage "Aantal moet een een geheel getal zijn."@nl
    ] ,
    [ a form:PositiveNumber ;
        form:grouping form:MatchEvery ;
        sh:path lblodSubsidie:improvementBothSides ;
        sh:resultMessage "Geef een positief aantal op."@nl
    ] ;
    sh:group fields:3f15344d-31cb-441d-a95f-8f2c1620a4eb .


##########################################################
# Bicycle infrastructure: New bike lane one side
##########################################################
fields:83558993-8859-4fda-b9cb-229a22aa1ec6 a form:Field ;
    mu:uuid "83558993-8859-4fda-b9cb-229a22aa1ec6";
    sh:name "slechts één kant van de weg:" ;
    sh:order 17 ;
    sh:path lblodSubsidie:newOneSide ;
    form:displayType displayTypes:numericalInput ;
    form:defaultValue 0;
    form:validations
    [ a form:RequiredConstraint ;
      form:grouping form:Bag ;
      sh:resultMessage "Dit veld is verplicht."@nl ;
      sh:path lblodSubsidie:newOneSide ;
    ] ,
    [ a form:ValidInteger ;
      form:grouping form:MatchEvery ;
      sh:path lblodSubsidie:newOneSide ;
      sh:resultMessage "Aantal moet een een geheel getal zijn."@nl
    ] ,
    [ a form:PositiveNumber ;
        form:grouping form:MatchEvery ;
        sh:path lblodSubsidie:newOneSide ;
        sh:resultMessage "Geef een positief aantal op."@nl
    ] ;
    sh:group fields:f08c51f5-1edd-4929-8ff2-47711ed8fff5 .

##########################################################
# Bicycle infrastructure: New bike lane both sides
##########################################################
fields:b1bf6eab-9032-4e23-abb4-3b31f2d52ead a form:Field ;
    mu:uuid "b1bf6eab-9032-4e23-abb4-3b31f2d52ead";
    sh:name "aan beide kanten van de weg" ;
    form:help """Noteer: Als u bvb. bij een traject van 1km langs beide kanten van de weg een fietspad aanlegt of vernieuwt, vul dan 2km in""";
    sh:order 18 ;
    sh:path lblodSubsidie:newBothSides ;
    form:displayType displayTypes:numericalInput ;
    form:defaultValue 0;
    form:validations
    [ a form:RequiredConstraint ;
      form:grouping form:Bag ;
      sh:resultMessage "Dit veld is verplicht."@nl ;
      sh:path lblodSubsidie:newBothSides ;
    ] ,
    [ a form:ValidInteger ;
      form:grouping form:MatchEvery ;
      sh:path lblodSubsidie:newBothSides ;
      sh:resultMessage "Aantal moet een een geheel getal zijn."@nl
    ] ,
    [ a form:PositiveNumber ;
        form:grouping form:MatchEvery ;
        sh:path lblodSubsidie:newBothSides ;
        sh:resultMessage "Geef een positief aantal op."@nl
    ] ;
    #sh:group fields:ecd33526-7220-4e57-9d3d-1df7fdc196e3 .
    sh:group fields:f08c51f5-1edd-4929-8ff2-47711ed8fff5 .

##########################################################
# Field groups
##########################################################

fieldGroups:main a form:FieldGroup ;
    mu:uuid "70eebdf0-14dc-47f7-85df-e1cfd41c3855" ;
    form:hasField

        ### First name contact person
        fields:e19e245a-c24b-4fb5-84b8-a7e2744ce9a0 ,

        ### First name contact person
        fields:82258a58-6c67-4b0a-a26d-0676b88886ad ,

        ### Phone
        fields:6285341d-a0ad-4933-bb5f-c49016b0f935 ,

        ### Email
        fields:31c743c7-b243-4ca7-a6c1-dc5f03cb5afb ,

        ### Case number
        fields:82e06728-0654-4038-803f-babaa45bf042,

        ### Project name
        fields:aff69ddb-40f9-4544-9bbc-a12afe842bbd,

        ### Total price
        fields:0db3aed1-0e15-454f-8584-0707129b367b ,

        ### Decision-upload
        fields:eea274cf-b422-4b8e-bb83-b066edbff8b1,

        ### Decision-upload HIDDEN
        fields:d00a14b2-f565-494a-8ad7-54908d89671a,

        ### stub form field to help with rendering nested property groups HIDDEN
        fields:2a36568a-4d09-4d16-92f0-e28db48680ed,

        ### Bike lane Improvement one side
        fields:d88f6b6d-8295-42db-967b-29931b7c9546 ,

        ### Bike lane Improvement both sides
        fields:896155ed-892e-4e69-b220-fd5a0484305a ,

        ### Bike lane Improvement one side
        fields:83558993-8859-4fda-b9cb-229a22aa1ec6 ,

        ### Bike lane Improvement both sides
        fields:b1bf6eab-9032-4e23-abb4-3b31f2d52ead .

form:6b70a6f0-cce2-4afe-81f5-5911f45b0b27 a form:Form ;
    mu:uuid "6b70a6f0-cce2-4afe-81f5-5911f45b0b27" ;
    form:hasFieldGroup fieldGroups:main .